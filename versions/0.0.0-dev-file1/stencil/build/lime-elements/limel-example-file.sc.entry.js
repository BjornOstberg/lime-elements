const e=window.LimeElements.h;import"./chunk-ae7a155e.js";import"./chunk-80ee6458.js";import{a as t}from"./chunk-e38402f0.js";import"./chunk-24c2542e.js";class i{constructor(){this.value={id:"bla",text:"bla.jpg"},this.required=!1}render(){return[e("limel-switch",{label:"Toggle required",value:this.required,onChange:()=>{this.required=!this.required}}),e("limel-file",{label:"File",value:this.value,required:this.required,onChange:this.handleChange.bind(this),onInteract:e=>{console.log("onInteract",e.detail)}})]}handleChange(e){console.log("onChange",e.detail),this.value=e.detail}static get is(){return"limel-example-file"}static get encapsulation(){return"shadow"}static get properties(){return{required:{state:!0},value:{state:!0}}}}const l="limel-chip-set",n="fileInput",a={id:null,text:null,removable:!0,icon:"note",iconColor:"var(--lime-light-grey)"};class h{constructor(){this.required=!1,this.disabled=!1,this.handleFileSelection=this.handleFileSelection.bind(this),this.handleFileChange=this.handleFileChange.bind(this),this.handleChipSetChange=this.handleChipSetChange.bind(this),this.handleChipSetInteract=this.handleChipSetInteract.bind(this),this.handleFileDrop=this.handleFileDrop.bind(this)}componentDidLoad(){this.fileInput=this.element.shadowRoot.getElementById(n),this.chipSet=this.element.shadowRoot.querySelector(l),this.mdcTextField=new t(this.chipSet.shadowRoot.querySelector(".mdc-text-field"))}componentDidUnload(){this.mdcTextField&&this.mdcTextField.destroy()}render(){const t=this.value?[Object.assign({},a,this.value)]:[];return[e("input",{id:n,type:"file",onChange:this.handleFileChange,hidden:!0}),e("limel-chip-set",{disabled:this.disabled,label:this.label,required:this.required,type:"input",value:t,onFocus:this.handleFileSelection,onChange:this.handleChipSetChange,onDrop:this.handleFileDrop,onDragEnter:this.preventDefault,onDragOver:this.preventDefault})]}handleFileSelection(e){e.stopPropagation(),this.value||this.fileInput.click()}handleFileChange(e){this.fileInput.files.length>0&&(e.stopPropagation(),this.handleFile(this.fileInput.files[0].name))}handleFile(e){const t=Object.assign({},a,{id:e,text:e});this.change.emit(t),this.chipSet.blur(),this.mdcTextField.valid=!0}handleChipSetChange(e){e.stopPropagation();const t=e.detail.length?null:e.detail[0];this.change.emit(t),this.chipSet.blur(),!t&&this.required&&(this.mdcTextField.valid=!1)}handleChipSetInteract(e){e.stopPropagation(),this.interact.emit(e.detail)}handleFileDrop(e){this.preventDefault(e),this.handleFile(e.dataTransfer.files[0].name)}preventDefault(e){e.stopPropagation(),e.preventDefault()}static get is(){return"limel-file"}static get encapsulation(){return"shadow"}static get properties(){return{disabled:{type:Boolean,attr:"disabled",reflectToAttr:!0},element:{elementRef:!0},label:{type:String,attr:"label"},required:{type:Boolean,attr:"required"},value:{type:"Any",attr:"value"}}}static get events(){return[{name:"change",method:"change",bubbles:!0,cancelable:!0,composed:!0},{name:"interact",method:"interact",bubbles:!0,cancelable:!0,composed:!0}]}}export{i as LimelExampleFile,h as LimelFile};