/*! Built with http://stenciljs.com */
const{h:e}=window.LimeElements;import{a as t,b as s}from"./chunk-6a33c04e.js";import{b as i}from"./chunk-e3efdb45.js";const n={ROOT:"mdc-list",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated"},o={ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"]:not(:disabled), input[type="radio"]:not(:disabled)',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`.${n.LIST_ITEM_CLASS} button:not(:disabled), \n  .${n.LIST_ITEM_CLASS} a`,FOCUSABLE_CHILD_ELEMENTS:`.${n.LIST_ITEM_CLASS} button:not(:disabled), .${n.LIST_ITEM_CLASS} a,\n  .${n.LIST_ITEM_CLASS} input[type="radio"]:not(:disabled),\n  .${n.LIST_ITEM_CLASS} input[type="checkbox"]:not(:disabled)`,ENABLED_ITEMS_SELECTOR:".mdc-list-item:not(.mdc-list-item--disabled)"},l=["input","button","textarea","select"];class a extends t{static get strings(){return o}static get cssClasses(){return n}static get defaultAdapter(){return{getListItemCount:()=>{},getFocusedElementIndex:()=>{},setAttributeForElementIndex:()=>{},removeAttributeForElementIndex:()=>{},addClassForElementIndex:()=>{},removeClassForElementIndex:()=>{},focusItemAtIndex:()=>{},setTabIndexForListItemChildren:()=>{},followHref:()=>{},toggleCheckbox:()=>{}}}constructor(e){super(Object.assign(a.defaultAdapter,e)),this.wrapFocus_=!1,this.isVertical_=!0,this.isSingleSelectionList_=!1,this.selectedIndex_=-1,this.useActivatedClass_=!1}setWrapFocus(e){this.wrapFocus_=e}setVerticalOrientation(e){this.isVertical_=e}setSingleSelection(e){this.isSingleSelectionList_=e}setUseActivatedClass(e){this.useActivatedClass_=e}setSelectedIndex(e){if(e===this.selectedIndex_)return;const t=this.useActivatedClass_?n.LIST_ITEM_ACTIVATED_CLASS:n.LIST_ITEM_SELECTED_CLASS;this.selectedIndex_>=0&&(this.adapter_.removeAttributeForElementIndex(this.selectedIndex_,o.ARIA_SELECTED),this.adapter_.removeClassForElementIndex(this.selectedIndex_,t),this.adapter_.setAttributeForElementIndex(this.selectedIndex_,"tabindex",-1)),e>=0&&this.adapter_.getListItemCount()>e&&(this.selectedIndex_=e,this.adapter_.setAttributeForElementIndex(this.selectedIndex_,o.ARIA_SELECTED,!0),this.adapter_.addClassForElementIndex(this.selectedIndex_,t),this.adapter_.setAttributeForElementIndex(this.selectedIndex_,"tabindex",0),0!==this.selectedIndex_&&this.adapter_.setAttributeForElementIndex(0,"tabindex",-1))}handleFocusIn(e,t){t>=0&&this.adapter_.setTabIndexForListItemChildren(t,0)}handleFocusOut(e,t){t>=0&&this.adapter_.setTabIndexForListItemChildren(t,-1)}handleKeydown(e,t,s){const i="ArrowLeft"===e.key||37===e.keyCode,n="ArrowUp"===e.key||38===e.keyCode,o="ArrowRight"===e.key||39===e.keyCode,l="ArrowDown"===e.key||40===e.keyCode,a="Home"===e.key||36===e.keyCode,d="End"===e.key||35===e.keyCode,r="Enter"===e.key||13===e.keyCode,c="Space"===e.key||32===e.keyCode;let _=this.adapter_.getFocusedElementIndex();-1===_&&(_=s)<0||(this.isVertical_&&l||!this.isVertical_&&o?(this.preventDefaultEvent_(e),this.focusNextElement(_)):this.isVertical_&&n||!this.isVertical_&&i?(this.preventDefaultEvent_(e),this.focusPrevElement(_)):a?(this.preventDefaultEvent_(e),this.focusFirstElement()):d?(this.preventDefaultEvent_(e),this.focusLastElement()):(r||c)&&(t&&(this.isSingleSelectionList_&&(this.setSelectedIndex(_),this.preventDefaultEvent_(e)),this.adapter_.followHref(_)),this.adapter_.toggleCheckbox(s)&&this.preventDefaultEvent_(e)))}handleClick(e,t){-1!==e&&(t&&this.adapter_.toggleCheckbox(e),this.isSingleSelectionList_&&this.setSelectedIndex(e))}preventDefaultEvent_(e){const t=`${e.target.tagName}`.toLowerCase();-1===l.indexOf(t)&&e.preventDefault()}focusNextElement(e){let t=e+1;if(t>=this.adapter_.getListItemCount()){if(!this.wrapFocus_)return;t=0}this.adapter_.focusItemAtIndex(t)}focusPrevElement(e){let t=e-1;if(t<0){if(!this.wrapFocus_)return;t=this.adapter_.getListItemCount()-1}this.adapter_.focusItemAtIndex(t)}focusFirstElement(){this.adapter_.getListItemCount()>0&&this.adapter_.focusItemAtIndex(0)}focusLastElement(){const e=this.adapter_.getListItemCount()-1;e>=0&&this.adapter_.focusItemAtIndex(e)}}class d extends s{constructor(...e){super(...e)}static attachTo(e){return new d(e)}destroy(){this.root_.removeEventListener("keydown",this.handleKeydown_),this.root_.removeEventListener("click",this.handleClick_),this.root_.removeEventListener("focusin",this.focusInEventListener_),this.root_.removeEventListener("focusout",this.focusOutEventListener_)}initialSyncWithDOM(){this.handleClick_=this.handleClickEvent_.bind(this),this.handleKeydown_=this.handleKeydownEvent_.bind(this),this.focusInEventListener_=this.handleFocusInEvent_.bind(this),this.focusOutEventListener_=this.handleFocusOutEvent_.bind(this),this.root_.addEventListener("keydown",this.handleKeydown_),this.root_.addEventListener("focusin",this.focusInEventListener_),this.root_.addEventListener("focusout",this.focusOutEventListener_),this.root_.addEventListener("click",this.handleClick_),this.layout(),this.initializeListType()}layout(){const e=this.root_.getAttribute(o.ARIA_ORIENTATION);this.vertical=e!==o.ARIA_ORIENTATION_HORIZONTAL,[].slice.call(this.root_.querySelectorAll(".mdc-list-item:not([tabindex])")).forEach(e=>{e.setAttribute("tabindex",-1)}),[].slice.call(this.root_.querySelectorAll(o.FOCUSABLE_CHILD_ELEMENTS)).forEach(e=>e.setAttribute("tabindex",-1))}getListItemIndex_(e){let t=e.target,s=-1;for(;!t.classList.contains(n.LIST_ITEM_CLASS)&&!t.classList.contains(n.ROOT);)t=t.parentElement;return t.classList.contains(n.LIST_ITEM_CLASS)&&(s=this.listElements.indexOf(t)),s}handleFocusInEvent_(e){const t=this.getListItemIndex_(e);this.foundation_.handleFocusIn(e,t)}handleFocusOutEvent_(e){const t=this.getListItemIndex_(e);this.foundation_.handleFocusOut(e,t)}handleKeydownEvent_(e){const t=this.getListItemIndex_(e);t>=0&&this.foundation_.handleKeydown(e,e.target.classList.contains(n.LIST_ITEM_CLASS),t)}handleClickEvent_(e){const t=this.getListItemIndex_(e),s=!i(e.target,o.CHECKBOX_RADIO_SELECTOR);this.foundation_.handleClick(t,s)}initializeListType(){const e=this.root_.querySelector(`.${n.LIST_ITEM_ACTIVATED_CLASS}, .${n.LIST_ITEM_SELECTED_CLASS}`);e&&(e.classList.contains(n.LIST_ITEM_ACTIVATED_CLASS)&&this.foundation_.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(e))}set vertical(e){this.foundation_.setVerticalOrientation(e)}get listElements(){return[].slice.call(this.root_.querySelectorAll(o.ENABLED_ITEMS_SELECTOR))}set wrapFocus(e){this.foundation_.setWrapFocus(e)}set singleSelection(e){this.foundation_.setSingleSelection(e)}set selectedIndex(e){this.foundation_.setSelectedIndex(e)}getDefaultFoundation(){return new a(Object.assign({getListItemCount:()=>this.listElements.length,getFocusedElementIndex:()=>this.listElements.indexOf(document.activeElement),setAttributeForElementIndex:(e,t,s)=>{const i=this.listElements[e];i&&i.setAttribute(t,s)},removeAttributeForElementIndex:(e,t)=>{const s=this.listElements[e];s&&s.removeAttribute(t)},addClassForElementIndex:(e,t)=>{const s=this.listElements[e];s&&s.classList.add(t)},removeClassForElementIndex:(e,t)=>{const s=this.listElements[e];s&&s.classList.remove(t)},focusItemAtIndex:e=>{const t=this.listElements[e];t&&t.focus()},setTabIndexForListItemChildren:(e,t)=>{[].slice.call(this.listElements[e].querySelectorAll(o.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX)).forEach(e=>e.setAttribute("tabindex",t))},followHref:e=>{const t=this.listElements[e];t&&t.href&&t.click()},toggleCheckbox:e=>{let t=!1;return[].slice.call(this.listElements[e].querySelectorAll(o.CHECKBOX_RADIO_SELECTOR)).forEach(e=>{const s=document.createEvent("Event");s.initEvent("change",!0,!0),e.checked&&"radio"===e.type||(e.checked=!e.checked,e.dispatchEvent(s)),t=!0}),t}}))}}class r{constructor(){this.defaultConfig={isMenu:!1,isOpen:!0,selectable:!1,badgeIcons:!1}}render(t,s={}){t=t||[],s=Object.assign({},this.defaultConfig,s);const i=t.some(e=>"secondaryText"in e&&!!e.secondaryText),n=s.badgeIcons&&t.some(e=>"icon"in e&&!!e.icon),o=s.isMenu?"menu":"listbox";return e("ul",{class:`\n                    mdc-list\n                    ${i?"mdc-list--two-line":""}\n                    ${s.isMenu?"mdc-menu__items":""}\n                    ${s.selectable?"selectable":""}\n                    ${n?"mdc-list--avatar-list":""}\n                `,"aria-hidden":(!s.isOpen).toString(),role:o,"aria-orientation":"vertical"},t.map(this.renderListItem.bind(this,s)))}renderListItem(t,s,i){return"separator"in s?e("li",{class:"mdc-list-divider",role:"separator"}):e("li",{class:`\n                    mdc-list-item\n                    ${s.disabled?"mdc-list-item--disabled":""}\n                `,role:t.isMenu?"menuitem":"",tabindex:s.disabled?"-1":"0","aria-disabled":s.disabled?"true":"false","data-index":i},s.icon?this.renderIcon(s):null,this.renderText(s.text,s.secondaryText))}renderText(t,s){return s?e("span",{class:"mdc-list-item__text"},e("span",{class:"mdc-list-item__primary-text"},t),e("span",{class:"mdc-list-item__secondary-text"},s)):t}renderIcon(t){const s={};return t.iconColor&&(s["--icon-background-color"]=t.iconColor),e("limel-icon",{class:"mdc-list-item__graphic",name:t.icon,style:s,size:"medium"})}}export{d as a,r as b,a as c};