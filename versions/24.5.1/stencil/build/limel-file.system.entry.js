System.register(["./core-e7aed7d8.system.js","./tslib.es6-7ed43ca5.system.js","./component-3c9a5fc6.system.js","./index-9e4ad403.system.js","./index-db0617d9.system.js","./component-58a5bd7e.system.js","./index-338fb370.system.js","./random-string-0b8805e3.system.js"],(function(e){"use strict";var t,i,n,s,l,o;return{setters:[function(e){t=e.r;i=e.c;n=e.h;s=e.g},function(){},function(){},function(){},function(){},function(){},function(e){l=e.M},function(e){o=e.c}],execute:function(){var h="limel-chip-set";var a={id:null,text:null,removable:true,icon:"note",iconColor:"var(--lime-light-grey)"};var d=e("limel_file",function(){function e(e){t(this,e);this.required=false;this.disabled=false;this.fileInputId=o();this.handleFileSelection=this.handleFileSelection.bind(this);this.handleFileChange=this.handleFileChange.bind(this);this.handleChipSetChange=this.handleChipSetChange.bind(this);this.handleFileDrop=this.handleFileDrop.bind(this);this.change=i(this,"change",7)}e.prototype.componentDidLoad=function(){this.fileInput=this.element.shadowRoot.getElementById(this.fileInputId);this.chipSet=this.element.shadowRoot.querySelector(h);this.mdcTextField=new l(this.chipSet.shadowRoot.querySelector(".mdc-text-field"))};e.prototype.componentDidUnload=function(){if(this.mdcTextField){this.mdcTextField.destroy()}};e.prototype.render=function(){var e=this.value?[Object.assign(Object.assign({},a),{text:this.value.filename,id:this.value.id})]:[];return[n("input",{id:this.fileInputId,type:"file",onChange:this.handleFileChange,hidden:true}),n("limel-chip-set",{disabled:this.disabled,label:this.label,required:this.required,type:"input",value:e,onFocus:this.handleFileSelection,onChange:this.handleChipSetChange,onInteract:this.preventAndStop,onDrop:this.handleFileDrop,onDragEnter:this.preventAndStop,onDragOver:this.preventAndStop})]};e.prototype.handleFileSelection=function(e){e.stopPropagation();if(!this.value){this.fileInput.click()}};e.prototype.handleFileChange=function(e){if(this.fileInput.files.length>0){e.stopPropagation();this.handleFile(this.fileInput.files[0])}};e.prototype.handleFile=function(e){var t={id:o(),filename:e.name,contentType:e.type,size:e.size,fileContent:e};this.change.emit(t);this.chipSet.blur();this.mdcTextField.valid=true};e.prototype.handleChipSetChange=function(e){e.stopPropagation();var t=!e.detail.length?e.detail[0]:null;this.chipSet.blur();if(!t){this.fileInput.value="";this.change.emit(t);if(this.required){this.mdcTextField.valid=false}}};e.prototype.handleFileDrop=function(e){this.preventAndStop(e);var t=e.dataTransfer;this.handleFile(t.files[0])};e.prototype.preventAndStop=function(e){e.stopPropagation();e.preventDefault()};Object.defineProperty(e.prototype,"element",{get:function(){return s(this)},enumerable:true,configurable:true});return e}())}}}));