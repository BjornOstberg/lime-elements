const e=window.LimeElements.h;import"./chunk-fd190a41.js";import"./chunk-fa133677.js";import"./chunk-487b1450.js";import"./chunk-0566d4fa.js";import"./chunk-6d4e51e6.js";import{a as t}from"./chunk-a91430e9.js";import{a as i}from"./chunk-f12b16ef.js";class l{constructor(){this.value={filename:"bla.jpg",id:123},this.required=!1,this.handleChange=this.handleChange.bind(this),this.toggleRequired=this.toggleRequired.bind(this)}render(){return[e("limel-switch",{label:"Toggle required",value:this.required,onChange:this.toggleRequired}),e("limel-file",{label:"File",value:this.value,required:this.required,onChange:this.handleChange})]}handleChange(e){this.value=e.detail,console.log("onChange",this.value)}toggleRequired(){this.required=!this.required}static get is(){return"limel-example-file"}static get encapsulation(){return"shadow"}static get properties(){return{required:{state:!0},value:{state:!0}}}}const n="limel-chip-set",h={id:null,text:null,removable:!0,icon:"note",iconColor:"var(--lime-light-grey)"};class a{constructor(){this.required=!1,this.disabled=!1,this.fileInputId=i(),this.handleFileSelection=this.handleFileSelection.bind(this),this.handleFileChange=this.handleFileChange.bind(this),this.handleChipSetChange=this.handleChipSetChange.bind(this),this.handleFileDrop=this.handleFileDrop.bind(this)}componentDidLoad(){this.fileInput=this.element.shadowRoot.getElementById(this.fileInputId),this.chipSet=this.element.shadowRoot.querySelector(n),this.mdcTextField=new t(this.chipSet.shadowRoot.querySelector(".mdc-text-field"))}componentDidUnload(){this.mdcTextField&&this.mdcTextField.destroy()}render(){const t=this.value?[Object.assign({},h,{text:this.value.filename,id:this.value.id})]:[];return[e("input",{id:this.fileInputId,type:"file",onChange:this.handleFileChange,hidden:!0}),e("limel-chip-set",{disabled:this.disabled,label:this.label,required:this.required,type:"input",value:t,onFocus:this.handleFileSelection,onChange:this.handleChipSetChange,onInteract:this.preventAndStop,onDrop:this.handleFileDrop,onDragEnter:this.preventAndStop,onDragOver:this.preventAndStop})]}handleFileSelection(e){e.stopPropagation(),this.value||this.fileInput.click()}handleFileChange(e){this.fileInput.files.length>0&&(e.stopPropagation(),this.handleFile(this.fileInput.files[0]))}handleFile(e){const t={id:i(),filename:e.name,contentType:e.type,size:e.size,fileContent:e};this.change.emit(t),this.chipSet.blur(),this.mdcTextField.valid=!0}handleChipSetChange(e){e.stopPropagation();const t=e.detail.length?null:e.detail[0];this.chipSet.blur(),t||(this.fileInput.value="",this.change.emit(t),this.required&&(this.mdcTextField.valid=!1))}handleFileDrop(e){this.preventAndStop(e),this.handleFile(e.dataTransfer.files[0])}preventAndStop(e){e.stopPropagation(),e.preventDefault()}static get is(){return"limel-file"}static get encapsulation(){return"shadow"}static get properties(){return{disabled:{type:Boolean,attr:"disabled",reflectToAttr:!0},element:{elementRef:!0},label:{type:String,attr:"label",reflectToAttr:!0},required:{type:Boolean,attr:"required",reflectToAttr:!0},value:{type:"Any",attr:"value"}}}static get events(){return[{name:"change",method:"change",bubbles:!0,cancelable:!0,composed:!0}]}}export{l as LimelExampleFile,a as LimelFile};