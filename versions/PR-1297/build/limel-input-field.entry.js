import{r as t,c as e,h as i,g as o}from"./index-7619d89c.js";import{b as r,T as n,A as d,c as l,d as c,e as a,E as s,a as h,S as m,h as f}from"./keycodes-1db9effd.js";import{g as u,a as x}from"./link-helper-b08fe56c.js";import{c as g}from"./random-string-2246b81e.js";import{i as b}from"./isObject-7039fcda.js";import{r as p}from"./_baseGetTag-49d0259e.js";import{t as v}from"./toNumber-f26657b5.js";import{M as _}from"./component-2630c3d7.js";import"./isSymbol-f24bedd7.js";import"./isObjectLike-38996507.js";import"./component-d682c974.js";import"./component-429e92ee.js";import"./ponyfill-30263d5e.js";import"./component-89e0ce26.js";var w=function(){return p.Date.now()},y=Math.max,k=Math.min;const T=class{constructor(i){t(this,i),this.change=e(this,"change",7),this.action=e(this,"action",7),this.disabled=!1,this.readonly=!1,this.invalid=!1,this.required=!1,this.type="text",this.formatNumber=!0,this.step="any",this.completions=[],this.showLink=!1,this.isFocused=!1,this.isModified=!1,this.showCompletions=!1,this.completionsList=[],this.filterCompletions=t=>t?this.completionsList.filter((e=>e.text.toLowerCase().indexOf(t.toLowerCase())>-1)):this.completionsList,this.handleChange=this.handleChange.bind(this),this.handleIconKeyPress=this.handleIconKeyPress.bind(this),this.handleIconClick=this.handleIconClick.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.handleCompletionChange=this.handleCompletionChange.bind(this),this.layout=this.layout.bind(this),this.changeEmitter=this.changeEmitter.bind(this),this.getContainerClassList=this.getContainerClassList.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.setFocus=this.setFocus.bind(this),this.changeEmitter=function(t,e,i){var o,r,n,d,l,c,a=0,s=!1,h=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var i=o,n=r;return o=r=void 0,a=e,d=t.apply(n,i)}function u(t){return a=t,l=setTimeout(g,e),s?f(t):d}function x(t){var i=t-c;return void 0===c||i>=e||i<0||h&&t-a>=n}function g(){var t=w();if(x(t))return p(t);l=setTimeout(g,function(t){var i=e-(t-c);return h?k(i,n-(t-a)):i}(t))}function p(t){return l=void 0,m&&o?f(t):(o=r=void 0,d)}function _(){var t=w(),i=x(t);if(o=arguments,r=this,c=t,i){if(void 0===l)return u(c);if(h)return clearTimeout(l),l=setTimeout(g,e),f(c)}return void 0===l&&(l=setTimeout(g,e)),d}return e=v(e)||0,b(i)&&(s=!!i.leading,n=(h="maxWait"in i)?y(v(i.maxWait)||0,e):n,m="trailing"in i?!!i.trailing:m),_.cancel=function(){void 0!==l&&clearTimeout(l),a=0,o=c=r=l=void 0},_.flush=function(){return void 0===l?d:p(w())},_}(this.changeEmitter,300),this.portalId=g()}connectedCallback(){this.initialize()}componentDidLoad(){this.initialize()}initialize(){const t=this.limelInputField.shadowRoot.querySelector(".mdc-text-field");t&&(this.mdcTextField=new _(t),this.completionsList=[...this.completions].map((t=>({text:t}))),window.addEventListener("resize",this.layout,{passive:!0}),this.limelInputField.addEventListener("focus",this.setFocus))}disconnectedCallback(){this.mdcTextField&&this.mdcTextField.destroy(),window.removeEventListener("resize",this.layout),this.limelInputField.removeEventListener("focus",this.setFocus)}componentDidUpdate(){this.invalid&&(this.mdcTextField.valid=!1)}render(){const t=this.getAdditionalProps();t.id="tf-input-element",t.class="mdc-text-field__input",t.onInput=this.handleChange,t.onFocus=this.onFocus,t.onBlur=this.onBlur,t.required=this.required,t.readonly=this.readonly,t.disabled=this.disabled||this.readonly;const e={"mdc-floating-label":!0,"mdc-floating-label--float-above":!!this.value||this.isFocused};return[i("div",{class:this.getContainerClassList()},this.renderFormattedNumber(),this.renderInput(t),this.renderTextarea(t),i("div",{class:"mdc-notched-outline"},i("div",{class:"mdc-notched-outline__leading"}),i("div",{class:"mdc-notched-outline__notch"},i("label",{class:e,htmlFor:"tf-input-element"},this.label)),i("div",{class:"mdc-notched-outline__trailing"})),this.renderIcons()),this.renderHelperLine(),this.renderAutocompleteList()]}setFocus(){this.mdcTextField.focus()}valueWatcher(t){this.mdcTextField&&t!==this.mdcTextField.value&&(this.mdcTextField.value=t||"")}getContainerClassList(){const t={"mdc-text-field":!0,"mdc-text-field--invalid":this.isInvalid(),"mdc-text-field--disabled":this.disabled||this.readonly,"lime-text-field--readonly":this.readonly,"mdc-text-field--required":this.required,"mdc-text-field--with-trailing-icon":!!this.getTrailingIcon()};return"textarea"===this.type?(t["mdc-text-field--textarea"]=!0,t["has-helper-line"]=!!this.helperText||!!this.maxlength):(t["mdc-text-field--outlined"]=!0,t["mdc-text-field--with-leading-icon"]=!!this.leadingIcon),t}renderInput(t){if("textarea"!==this.type)return i("input",Object.assign({},t,{type:"urlAsText"===this.type?"text":this.type,pattern:this.pattern,onWheel:this.handleWheel,onKeyDown:this.onKeyDown,value:this.value}))}renderTextarea(t){if("textarea"===this.type)return i("textarea",Object.assign({},t),this.value)}layout(){var t;null===(t=this.mdcTextField)||void 0===t||t.layout()}getAdditionalProps(){const t={};return"number"===this.type&&(t.step=this.step),"number"===this.type&&Number.isInteger(this.min)&&(t.min=this.min),"number"===this.type&&Number.isInteger(this.max)&&(t.max=this.max),this.minlength&&(t.minlength=this.minlength),this.maxlength&&(t.maxlength=this.maxlength),t}onFocus(){this.isFocused=!0,this.showCompletions=!0}onBlur(){this.isFocused=!1,this.isModified=!0}renderHelperLine(){if(this.maxlength||null!=this.helperText)return i("div",{class:"mdc-text-field-helper-line"},this.renderHelperText(),this.renderCharacterCounter())}renderHelperText(){if(null==this.helperText)return;const t={"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--validation-msg":this.isInvalid()};return i("p",{class:t},this.helperText)}renderCharacterCounter(){if(this.maxlength&&"number"!==this.type)return i("div",{class:"mdc-text-field-character-counter"},`${(this.value||"").length} / ${this.maxlength}`)}isInvalid(){if(this.readonly)return!1;if(this.invalid)return!0;if(!this.isModified)return!1;const t=this.getInputElement();return!(t&&t.checkValidity())}getInputElement(){let t="input";return"textarea"===this.type&&(t="textarea"),this.limelInputField.shadowRoot.querySelector(t)}renderIcons(){if("textarea"===this.type)return;const t=[];this.leadingIcon&&t.push(i("i",{class:"mdc-text-field__icon"},i("limel-icon",{name:this.leadingIcon})));const e=this.getTrailingIcon();return!this.isInvalid()&&this.hasLink()?t.push(this.renderLinkIcon(this.getLink(),e)):e&&t.push(this.renderTrailingIcon(e)),t}hasLink(){return this.showLink&&["email","tel","url","urlAsText"].includes(this.type)}getLink(){const t={href:""};switch(this.type){case"email":t.href=`mailto:${this.value}`;break;case"tel":t.href=`tel:${this.value}`;break;default:t.href=u(this.value),t.target=x(this.value)}return t}renderLinkIcon(t,e){return i("a",Object.assign({},t,{class:"mdc-text-field__icon trailing-icon",tabindex:this.disabled?"-1":"0",role:"button"}),i("limel-icon",{name:e}))}renderTrailingIcon(t){return i("i",{onKeyPress:this.handleIconKeyPress,onClick:this.handleIconClick,class:"mdc-text-field__icon trailing-icon",tabindex:this.isInvalid()?"-1":"0",role:"button"},i("limel-icon",{name:t}))}getTrailingIcon(){return this.isInvalid()?"high_importance":this.trailingIcon?this.trailingIcon:this.showLink&&"email"===this.type?"filled_message":this.showLink&&"tel"===this.type?"phone":!this.showLink||"url"!==this.type&&"urlAsText"!==this.type?void 0:"external_link"}renderFormattedNumber(){if("number"!==this.type||!this.value)return;let t=this.value;return this.formatNumber&&(t=new Intl.NumberFormat(navigator.language).format(Number(this.value))),i("span",{class:"formatted-input"},t)}onKeyDown(t){this.showCompletions=!0;const e=!(t.key!==n&&t.keyCode!==r||t.altKey||t.metaKey||t.shiftKey),i=t.key===d||t.keyCode===l,o=t.key===c||t.keyCode===a;if(t.keyCode===r&&t.shiftKey&&(this.showCompletions=!1),!e&&!i&&!o)return;const s=document.querySelector(` #${this.portalId} limel-list`);s&&(t.preventDefault(),e||o?s.shadowRoot.querySelector(".mdc-list-item:first-child").focus():i&&s.shadowRoot.querySelector(".mdc-list-item:last-child").focus())}handleCompletionChange(t){t.stopPropagation(),t.detail&&(this.showCompletions=!1,this.changeEmitter(t.detail.text))}renderAutocompleteList(){if("textarea"!==this.type&&this.completions.length)return this.renderDropdown()}renderPortal(t=null){const e=getComputedStyle(this.limelInputField).getPropertyValue("--dropdown-z-index");return i("limel-portal",{visible:this.showCompletions,containerId:this.portalId,inheritParentWidth:!0,containerStyle:{"z-index":e}},i("limel-menu-surface",{open:this.showCompletions,allowClicksElement:this.limelInputField,style:{"--menu-surface-width":"100%","max-height":"inherit",display:"flex"},onDismiss:this.handleCloseMenu},t))}renderDropdown(){const t=this.renderListResult();return this.renderPortal(t)}renderListResult(){const t=this.filterCompletions(this.value);return t&&0!==t.length?i("limel-list",{onChange:this.handleCompletionChange,type:"selectable",items:t}):null}handleCloseMenu(){this.showCompletions=!1}handleChange(t){t.stopPropagation();let e=t.target.value;if("number"===this.type){if(!e&&t.data)return void t.stopPropagation();e&&(e=Number(e))}this.changeEmitter(e)}changeEmitter(t){this.change.emit(t)}handleIconClick(){this.isInvalid()||this.action.emit()}handleIconKeyPress(t){t.key!==m&&t.keyCode!==f&&t.key!==s&&t.keyCode!==h||this.isInvalid()||this.action.emit()}handleWheel(){}get limelInputField(){return o(this)}static get watchers(){return{value:["valueWatcher"]}}};T.style=":host{--mdc-theme-primary:var(\n      --lime-primary-color,\n      rgb(var(--color-teal-default))\n  );--mdc-theme-secondary:var(\n      --lime-secondary-color,\n      rgb(var(--contrast-1100))\n  );--mdc-theme-on-primary:var(\n      --lime-on-primary-color,\n      rgb(var(--contrast-100))\n  );--mdc-theme-on-secondary:var(\n      --lime-on-secondary-color,\n      rgb(var(--contrast-100))\n  );--mdc-theme-text-disabled-on-background:var(\n      --lime-text-disabled-on-background-color,\n      rgba(var(--contrast-1700), 0.38)\n  );--mdc-theme-text-primary-on-background:var(\n      --lime-text-primary-on-background-color,\n      rgba(var(--contrast-1700), 0.87)\n  );--mdc-theme-text-secondary-on-background:var(\n      --lime-text-secondary-on-background-color,\n      rgba(var(--contrast-1700), 0.54)\n  );--lime-error-text-color:rgb(var(--color-red-darker))}.mdc-text-field--with-trailing-icon .mdc-text-field__icon.trailing-icon{transition:background-color 0.2s ease, box-shadow 0.3s ease;border-radius:50%;padding:0.5rem;right:0.5rem}.mdc-text-field--with-trailing-icon .mdc-text-field__icon.trailing-icon:focus{outline:none}.mdc-text-field--with-trailing-icon .mdc-text-field__icon.trailing-icon:focus-visible{box-shadow:0 0 0 0.125rem var(--mdc-theme-primary) !important}.mdc-text-field--with-trailing-icon:hover .trailing-icon{box-shadow:var(--button-shadow-normal);background-color:rgba(var(--contrast-100), 0.4)}.mdc-text-field--with-trailing-icon:hover .trailing-icon:hover{background-color:rgb(var(--contrast-100));box-shadow:var(--button-shadow-hovered)}.mdc-text-field--with-trailing-icon:hover .trailing-icon:active{box-shadow:var(--button-shadow-pressed)}.mdc-text-field--with-trailing-icon.mdc-text-field--disabled:hover .trailing-icon,.mdc-text-field--with-trailing-icon.mdc-text-field--invalid:hover .trailing-icon{box-shadow:none;background-color:transparent}.mdc-text-field--with-trailing-icon.mdc-text-field--disabled:hover .trailing-icon:hover,.mdc-text-field--with-trailing-icon.mdc-text-field--invalid:hover .trailing-icon:hover{background-color:transparent;box-shadow:none}.mdc-text-field--with-trailing-icon.mdc-text-field--disabled:hover .trailing-icon:active,.mdc-text-field--with-trailing-icon.mdc-text-field--invalid:hover .trailing-icon:active{box-shadow:none}.mdc-text-field--with-trailing-icon.mdc-text-field--invalid i.mdc-text-field__icon.trailing-icon limel-icon{color:var(--lime-error-text-color)}:host([type=url]) .mdc-text-field--with-trailing-icon .trailing-icon limel-icon,:host([type=urlAsText]) .mdc-text-field--with-trailing-icon .trailing-icon limel-icon{color:rgb(var(--color-blue-default))}:host([type=url]) .mdc-text-field--with-trailing-icon .trailing-icon:hover,:host([type=urlAsText]) .mdc-text-field--with-trailing-icon .trailing-icon:hover{background-color:rgb(var(--color-blue-default))}:host([type=url]) .mdc-text-field--with-trailing-icon .trailing-icon:hover limel-icon,:host([type=urlAsText]) .mdc-text-field--with-trailing-icon .trailing-icon:hover limel-icon{color:rgb(var(--color-white))}:host([type=tel]) .mdc-text-field--with-trailing-icon .trailing-icon limel-icon{color:rgb(var(--color-green-default))}:host([type=tel]) .mdc-text-field--with-trailing-icon .trailing-icon:hover{background-color:rgb(var(--color-green-default))}:host([type=tel]) .mdc-text-field--with-trailing-icon .trailing-icon:hover limel-icon{color:rgb(var(--color-white))}:host([type=url]) .mdc-text-field.lime-text-field--readonly:hover .mdc-text-field__input,:host([type=urlAsText]) .mdc-text-field.lime-text-field--readonly:hover .mdc-text-field__input,:host([type=tel]) .mdc-text-field.lime-text-field--readonly:hover .mdc-text-field__input{color:rgb(var(--color-white))}:host{position:relative;display:block}:host([hidden]){display:none}:host([type=textarea]){height:var(--textarea-height, 100%)}:host([type=textarea]) .mdc-text-field.mdc-text-field--textarea{height:var(--textarea-height, 100%)}:host([type=textarea]) .mdc-text-field.mdc-text-field--textarea.has-helper-line{--heightOfHelperText:1.1875rem;height:calc( var(--textarea-height, 100%) - var(--heightOfHelperText) )}:host([type=textarea]) textarea.mdc-text-field__input{resize:vertical}.mdc-text-field{transition:background-color 0.2s ease;border-radius:0.25rem}.mdc-text-field:not(.mdc-text-field--disabled){background-color:rgba(var(--contrast-200), 0.5)}.mdc-text-field:not(.mdc-text-field--disabled):hover{background-color:rgba(var(--contrast-200), 1)}.mdc-text-field.mdc-text-field--focused{background-color:rgba(var(--contrast-100), 0.8)}.mdc-text-field.mdc-text-field--disabled{background-color:transparent}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{transition:border-color 0.2s ease;border-color:rgba(var(--contrast-700), 0.65)}.mdc-text-field:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover~.mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover~.mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field:not(.mdc-text-field--disabled):not(.mdc-text-field--focused) .mdc-text-field__input:hover~.mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(var(--contrast-700), 1)}.mdc-text-field .mdc-notched-outline__leading,.mdc-text-field .mdc-notched-outline__notch,.mdc-text-field .mdc-notched-outline__trailing,.mdc-text-field.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:1px}.mdc-text-field--outlined .mdc-text-field__input{padding-bottom:0.75rem}.mdc-text-field.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(var(--contrast-1200), 1)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(var(--contrast-1400), 1)}.mdc-text-field.mdc-text-field--disabled .mdc-floating-label{color:rgba(var(--contrast-1200), 0.5)}.mdc-text-field.mdc-text-field--disabled .mdc-text-field__input{color:rgba(var(--contrast-1400), 0.5)}.mdc-text-field{width:100%}.mdc-text-field .mdc-floating-label{right:0.5rem}.mdc-text-field.lime-text-field--readonly input.mdc-text-field__input{background-color:transparent;color:rgba(var(--contrast-1400), 1)}.mdc-text-field.lime-text-field--readonly .formatted-input{color:rgba(var(--contrast-1400), 1);opacity:1}.mdc-text-field.lime-text-field--readonly label.mdc-floating-label{color:rgba(var(--contrast-1200), 1)}.mdc-text-field.lime-text-field--readonly .mdc-notched-outline__leading,.mdc-text-field.lime-text-field--readonly .mdc-notched-outline__notch,.mdc-text-field.lime-text-field--readonly .mdc-notched-outline__trailing{border-color:transparent}.mdc-text-field.lime-text-field--readonly.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:var(--lime-error-text-color)}.mdc-text-field.lime-text-field--readonly.mdc-text-field--invalid .trailing-icon{color:var(--lime-error-text-color)}.mdc-text-field.lime-text-field--readonly .mdc-text-field__icon.trailing-icon{display:flex;justify-content:flex-end;align-items:center;pointer-events:auto;cursor:pointer;color:rgba(var(--contrast-1200), 1);border-radius:0.25rem;width:calc(100% - 2rem);z-index:0}.mdc-text-field.lime-text-field--readonly .mdc-text-field__icon.trailing-icon:hover{box-shadow:var(--button-shadow-hovered)}.mdc-text-field.lime-text-field--readonly .mdc-text-field__icon.trailing-icon:active{box-shadow:var(--button-shadow-pressed)}.mdc-text-field.lime-text-field--readonly .mdc-text-field__icon.trailing-icon limel-icon{width:1.5rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:0.875rem}.formatted-input{font-family:Roboto, sans-serif;line-height:1.75rem;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:0.875rem;font-weight:400;letter-spacing:0.009375em;color:rgba(var(--contrast-1200), 1);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - 1.25rem);z-index:1;padding:0 2.5rem 0 1rem;align-self:center;position:absolute;display:none;color:rgba(var(--contrast-1400), 1)}:not(.mdc-text-field--focused):not(.mdc-text-field--invalid) .formatted-input{display:block}:not(.mdc-text-field--focused):not(.mdc-text-field--invalid) .mdc-text-field__input[type=number]{color:transparent;-webkit-text-fill-color:transparent}.mdc-text-field--disabled{background-color:transparent}.mdc-text-field--disabled .formatted-input{cursor:not-allowed;pointer-events:none;opacity:0.4}.autocomplete-list-container{position:relative}.autocomplete-list{background-color:white;position:absolute;top:0;left:0;right:0;max-height:12.5rem;overflow-y:auto}.mdc-list-item{cursor:pointer}.mdc-text-field__icon{width:1.5rem;height:1.5rem}input.mdc-text-field__input::-webkit-search-cancel-button{transition:background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;cursor:pointer;height:1.25rem;width:1.25rem;border-radius:50%;background-color:#babac0;background-repeat:no-repeat;background-position:center;background-size:0.75rem;background-image:url(\"data:image/svg+xml; utf8, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><defs/><path fill='rgb(255,255,255)' d='M7.219 5.781L5.78 7.22 14.563 16 5.78 24.781 7.22 26.22 16 17.437l8.781 8.782 1.438-1.438L17.437 16l8.782-8.781L24.78 5.78 16 14.563z'/></svg>\");-webkit-appearance:none;position:absolute;right:0.5rem;top:0;bottom:0;margin:auto}input.mdc-text-field__input::-webkit-search-cancel-button:hover{box-shadow:var(--button-shadow-hovered)}input.mdc-text-field__input::-webkit-search-cancel-button:active{box-shadow:var(--button-shadow-pressed);transform:translate3d(0, 0.08rem, 0)}input.mdc-text-field__input::-webkit-search-cancel-button:hover{background-color:#757580}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(var(--contrast-1200), 1)}.mdc-text-field-character-counter{transition:opacity 0.2s ease;opacity:0}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-character-counter{opacity:1}.mdc-text-field-character-counter:before{height:0.75rem}.mdc-text-field-helper-text:before{height:0.75rem}";export{T as limel_input_field}