import{a as t,b as e}from"./chunk-d211df41.js";import{a as s,b as i}from"./chunk-982653a6.js";const n={ROOT:"mdc-menu",MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group"},o={SELECTED_EVENT:"MDCMenu:selected",ARIA_SELECTED_ATTR:"aria-selected",LIST_SELECTOR:".mdc-list",CHECKBOX_SELECTOR:'input[type="checkbox"]'},r={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},a={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:'button:not(:disabled), [href]:not([aria-disabled="true"]), input:not(:disabled), select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'},h={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},l={BOTTOM:1,CENTER:2,RIGHT:4,FLIP_RTL:8},d={TOP_LEFT:0,TOP_RIGHT:l.RIGHT,BOTTOM_LEFT:l.BOTTOM,BOTTOM_RIGHT:l.BOTTOM|l.RIGHT,TOP_START:l.FLIP_RTL,TOP_END:l.FLIP_RTL|l.RIGHT,BOTTOM_START:l.BOTTOM|l.FLIP_RTL,BOTTOM_END:l.BOTTOM|l.RIGHT|l.FLIP_RTL};class c extends t{static get cssClasses(){return r}static get strings(){return a}static get numbers(){return h}static get Corner(){return d}static get defaultAdapter(){return{addClass:()=>{},removeClass:()=>{},hasClass:()=>!1,hasAnchor:()=>!1,notifyClose:()=>{},notifyOpen:()=>{},isElementInContainer:()=>!1,isRtl:()=>!1,setTransformOrigin:()=>{},isFocused:()=>!1,saveFocus:()=>{},restoreFocus:()=>{},isFirstElementFocused:()=>{},isLastElementFocused:()=>{},focusFirstElement:()=>{},focusLastElement:()=>{},getInnerDimensions:()=>({}),getAnchorDimensions:()=>({}),getWindowDimensions:()=>({}),getBodyDimensions:()=>({}),getWindowScroll:()=>({}),setPosition:()=>{},setMaxHeight:()=>{}}}constructor(t){super(Object.assign(c.defaultAdapter,t)),this.isOpen_=!1,this.openAnimationEndTimerId_=0,this.closeAnimationEndTimerId_=0,this.animationRequestId_=0,this.anchorCorner_=d.TOP_START,this.anchorMargin_={top:0,right:0,bottom:0,left:0},this.measures_=null,this.quickOpen_=!1,this.hoistedElement_=!1,this.isFixedPosition_=!1,this.position_={x:0,y:0}}init(){const{ROOT:t,OPEN:e}=c.cssClasses;if(!this.adapter_.hasClass(t))throw new Error(`${t} class required in root element.`);this.adapter_.hasClass(e)&&(this.isOpen_=!0)}destroy(){clearTimeout(this.openAnimationEndTimerId_),clearTimeout(this.closeAnimationEndTimerId_),cancelAnimationFrame(this.animationRequestId_)}setAnchorCorner(t){this.anchorCorner_=t}setAnchorMargin(t){this.anchorMargin_.top="number"==typeof t.top?t.top:0,this.anchorMargin_.right="number"==typeof t.right?t.right:0,this.anchorMargin_.bottom="number"==typeof t.bottom?t.bottom:0,this.anchorMargin_.left="number"==typeof t.left?t.left:0}setIsHoisted(t){this.hoistedElement_=t}setFixedPosition(t){this.isFixedPosition_=t}setAbsolutePosition(t,e){this.position_.x=this.typeCheckisFinite_(t)?t:0,this.position_.y=this.typeCheckisFinite_(e)?e:0}setQuickOpen(t){this.quickOpen_=t}handleBodyClick(t){this.adapter_.isElementInContainer(t.target)||this.close()}handleKeydown(t){const{keyCode:e,key:s,shiftKey:i}=t,n="Tab"===s||9===e;"Escape"===s||27===e?this.close():n&&(this.adapter_.isLastElementFocused()&&!i?(this.adapter_.focusFirstElement(),t.preventDefault()):this.adapter_.isFirstElementFocused()&&i&&(this.adapter_.focusLastElement(),t.preventDefault()))}getAutoLayoutMeasurements_(){let t=this.adapter_.getAnchorDimensions();const e=this.adapter_.getWindowDimensions(),s=this.adapter_.getBodyDimensions(),i=this.adapter_.getWindowScroll();return t||(t={x:this.position_.x,y:this.position_.y,top:this.position_.y,bottom:this.position_.y,left:this.position_.x,right:this.position_.x,height:0,width:0}),{viewport:e,bodyDimensions:s,windowScroll:i,viewportDistance:{top:t.top,right:e.width-t.right,left:t.left,bottom:e.height-t.bottom},anchorHeight:t.height,anchorWidth:t.width,surfaceHeight:this.dimensions_.height,surfaceWidth:this.dimensions_.width}}getOriginCorner_(){let t=d.TOP_LEFT;const{viewportDistance:e,anchorHeight:s,anchorWidth:i,surfaceHeight:n,surfaceWidth:o}=this.measures_,r=Boolean(this.anchorCorner_&l.BOTTOM),a=n-(r?e.bottom-this.anchorMargin_.bottom:e.bottom+s-this.anchorMargin_.top);a>0&&n-(r?e.top+s+this.anchorMargin_.bottom:e.top+this.anchorMargin_.top)<a&&(t|=l.BOTTOM);const h=this.adapter_.isRtl(),c=Boolean(this.anchorCorner_&l.FLIP_RTL),_=Boolean(this.anchorCorner_&l.RIGHT),u=_&&!h||!_&&c&&h,m=o-(u?e.left+i+this.anchorMargin_.right:e.left+this.anchorMargin_.left),E=o-(u?e.right-this.anchorMargin_.right:e.right+i-this.anchorMargin_.left);return(m<0&&u&&h||_&&!u&&m<0||E>0&&m<E)&&(t|=l.RIGHT),t}getHorizontalOriginOffset_(t){const{anchorWidth:e}=this.measures_,s=Boolean(t&l.RIGHT),i=Boolean(this.anchorCorner_&l.RIGHT);if(s){const t=i?e-this.anchorMargin_.left:this.anchorMargin_.right;return this.hoistedElement_||this.isFixedPosition_?t-(this.measures_.viewport.width-this.measures_.bodyDimensions.width):t}return i?e-this.anchorMargin_.right:this.anchorMargin_.left}getVerticalOriginOffset_(t){const{anchorHeight:e}=this.measures_,s=Boolean(t&l.BOTTOM),i=Boolean(this.anchorCorner_&l.BOTTOM);return s?i?e-this.anchorMargin_.top:-this.anchorMargin_.bottom:i?e+this.anchorMargin_.bottom:this.anchorMargin_.top}getMenuSurfaceMaxHeight_(t){let e=0;const{viewportDistance:s}=this.measures_,i=Boolean(t&l.BOTTOM),{MARGIN_TO_EDGE:n}=c.numbers;return i?(e=s.top+this.anchorMargin_.top-n,this.anchorCorner_&l.BOTTOM||(e+=this.measures_.anchorHeight)):(e=s.bottom-this.anchorMargin_.bottom+this.measures_.anchorHeight-n,this.anchorCorner_&l.BOTTOM&&(e-=this.measures_.anchorHeight)),e}autoPosition_(){this.measures_=this.getAutoLayoutMeasurements_();const t=this.getOriginCorner_(),e=this.getMenuSurfaceMaxHeight_(t),s=t&l.BOTTOM?"bottom":"top";let i=t&l.RIGHT?"right":"left";let n={[i]:this.getHorizontalOriginOffset_(t)||"0",[s]:this.getVerticalOriginOffset_(t)||"0"};const{anchorWidth:o,surfaceWidth:r}=this.measures_;o/r>h.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(i="center"),(this.hoistedElement_||this.isFixedPosition_)&&(n=this.adjustPositionForHoistedElement_(n));for(const t in n)n.hasOwnProperty(t)&&"0"!==n[t]&&(n[t]=`${parseInt(n[t],10)}0rem`);this.adapter_.setTransformOrigin(`${i} ${s}`),this.adapter_.setPosition(n),this.adapter_.setMaxHeight(e?e+"0rem":""),this.measures_=null}adjustPositionForHoistedElement_(t){const{windowScroll:e,viewportDistance:s}=this.measures_;for(const i in t)t.hasOwnProperty(i)&&(s.hasOwnProperty(i)&&(t[i]=parseInt(t[i],10)+s[i]),this.isFixedPosition_||("top"===i?t[i]=parseInt(t[i],10)+e.y:"bottom"===i?t[i]=parseInt(t[i],10)-e.y:"left"===i?t[i]=parseInt(t[i],10)+e.x:"right"===i&&(t[i]=parseInt(t[i],10)-e.x)));return t}open(){this.adapter_.saveFocus(),this.quickOpen_||this.adapter_.addClass(c.cssClasses.ANIMATING_OPEN),this.animationRequestId_=requestAnimationFrame(()=>{this.adapter_.addClass(c.cssClasses.OPEN),this.dimensions_=this.adapter_.getInnerDimensions(),this.autoPosition_(),this.quickOpen_?this.adapter_.notifyOpen():this.openAnimationEndTimerId_=setTimeout(()=>{this.openAnimationEndTimerId_=0,this.adapter_.removeClass(c.cssClasses.ANIMATING_OPEN),this.adapter_.notifyOpen()},h.TRANSITION_OPEN_DURATION)}),this.isOpen_=!0}close(){this.quickOpen_||this.adapter_.addClass(c.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(()=>{this.adapter_.removeClass(c.cssClasses.OPEN),this.quickOpen_?this.adapter_.notifyClose():this.closeAnimationEndTimerId_=setTimeout(()=>{this.closeAnimationEndTimerId_=0,this.adapter_.removeClass(c.cssClasses.ANIMATING_CLOSED),this.adapter_.notifyClose()},h.TRANSITION_CLOSE_DURATION)}),this.isOpen_=!1,this.maybeRestoreFocus_()}maybeRestoreFocus_(){(this.adapter_.isFocused()||this.adapter_.isElementInContainer(document.activeElement))&&this.adapter_.restoreFocus()}isOpen(){return this.isOpen_}typeCheckisFinite_(t){return"number"==typeof t&&isFinite(t)}}const _=["input","button","textarea","select","a"];class u extends t{static get cssClasses(){return n}static get strings(){return o}static get defaultAdapter(){return{addClassToElementAtIndex:()=>{},removeClassFromElementAtIndex:()=>{},addAttributeToElementAtIndex:()=>{},removeAttributeFromElementAtIndex:()=>{},elementContainsClass:()=>{},closeSurface:()=>{},getElementIndex:()=>{},getParentElement:()=>{},getSelectedElementIndex:()=>{},notifySelected:()=>{}}}constructor(t){super(Object.assign(u.defaultAdapter,t)),this.closeAnimationEndTimerId_=0}destroy(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter_.closeSurface()}handleKeydown(t){const{key:e,keyCode:s}=t,i="Tab"===e||9===s;"Space"===e||32===s||"Enter"===e||13===s?this.handleAction_(t):i&&this.adapter_.closeSurface()}handleClick(t){this.handleAction_(t)}handleAction_(t){const e=this.getListItem_(t.target);e&&(this.handleSelection(e),this.preventDefaultEvent_(t))}handleSelection(t){const e=this.adapter_.getElementIndex(t);e<0||(this.adapter_.notifySelected({index:e}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(()=>{const s=this.getSelectionGroup_(t);null!==s&&this.handleSelectionGroup_(s,e)},c.numbers.TRANSITION_CLOSE_DURATION))}handleSelectionGroup_(t,e){const s=this.adapter_.getSelectedElementIndex(t);s>=0&&(this.adapter_.removeAttributeFromElementAtIndex(s,o.ARIA_SELECTED_ATTR),this.adapter_.removeClassFromElementAtIndex(s,n.MENU_SELECTED_LIST_ITEM)),this.adapter_.addClassToElementAtIndex(e,n.MENU_SELECTED_LIST_ITEM),this.adapter_.addAttributeToElementAtIndex(e,o.ARIA_SELECTED_ATTR,"true")}getSelectionGroup_(t){let e=this.adapter_.getParentElement(t),i=this.adapter_.elementContainsClass(e,n.MENU_SELECTION_GROUP);for(;!i&&!this.adapter_.elementContainsClass(e,s.cssClasses.ROOT);)e=this.adapter_.getParentElement(e),i=this.adapter_.elementContainsClass(e,n.MENU_SELECTION_GROUP);return i?e:null}getListItem_(t){let e=this.adapter_.elementContainsClass(t,s.cssClasses.LIST_ITEM_CLASS);for(;!e;){if(!(t=this.adapter_.getParentElement(t)))return null;e=this.adapter_.elementContainsClass(t,s.cssClasses.LIST_ITEM_CLASS)}return t}preventDefaultEvent_(t){const e=`${t.target.tagName}`.toLowerCase();-1===_.indexOf(e)&&t.preventDefault()}}let m;class E extends e{constructor(...t){super(...t)}static attachTo(t){return new E(t)}initialSyncWithDOM(){this.root_.parentElement&&this.root_.parentElement.classList.contains(r.ANCHOR)&&(this.anchorElement=this.root_.parentElement),this.root_.classList.contains(r.FIXED)&&this.setFixedPosition(!0),this.handleKeydown_=(t=>this.foundation_.handleKeydown(t)),this.handleBodyClick_=(t=>this.foundation_.handleBodyClick(t)),this.registerBodyClickListener_=(()=>document.body.addEventListener("click",this.handleBodyClick_)),this.deregisterBodyClickListener_=(()=>document.body.removeEventListener("click",this.handleBodyClick_)),this.root_.addEventListener("keydown",this.handleKeydown_),this.root_.addEventListener(a.OPENED_EVENT,this.registerBodyClickListener_),this.root_.addEventListener(a.CLOSED_EVENT,this.deregisterBodyClickListener_)}destroy(){this.root_.removeEventListener("keydown",this.handleKeydown_),this.root_.removeEventListener(a.OPENED_EVENT,this.registerBodyClickListener_),this.root_.removeEventListener(a.CLOSED_EVENT,this.deregisterBodyClickListener_),super.destroy()}get open(){return this.foundation_.isOpen()}set open(t){if(t){const t=this.root_.querySelectorAll(a.FOCUSABLE_ELEMENTS);this.firstFocusableElement_=t.length>0?t[0]:null,this.lastFocusableElement_=t.length>0?t[t.length-1]:null,this.foundation_.open()}else this.foundation_.close()}hoistMenuToBody(){document.body.appendChild(this.root_.parentElement.removeChild(this.root_)),this.setIsHoisted(!0)}setIsHoisted(t){this.foundation_.setIsHoisted(t)}setMenuSurfaceAnchorElement(t){this.anchorElement=t}setFixedPosition(t){t?this.root_.classList.add(r.FIXED):this.root_.classList.remove(r.FIXED),this.foundation_.setFixedPosition(t)}setAbsolutePosition(t,e){this.foundation_.setAbsolutePosition(t,e),this.setIsHoisted(!0)}setAnchorCorner(t){this.foundation_.setAnchorCorner(t)}setAnchorMargin(t){this.foundation_.setAnchorMargin(t)}set quickOpen(t){this.foundation_.setQuickOpen(t)}getDefaultFoundation(){return new c(Object.assign({addClass:t=>this.root_.classList.add(t),removeClass:t=>this.root_.classList.remove(t),hasClass:t=>this.root_.classList.contains(t),hasAnchor:()=>!!this.anchorElement,notifyClose:()=>this.emit(c.strings.CLOSED_EVENT,{}),notifyOpen:()=>this.emit(c.strings.OPENED_EVENT,{}),isElementInContainer:t=>this.root_===t||this.root_.contains(t),isRtl:()=>"rtl"===getComputedStyle(this.root_).getPropertyValue("direction"),setTransformOrigin:t=>{this.root_.style[`${function(t,e=!1){if(void 0===m||e){const e=t.document.createElement("div");m="transform"in e.style?"transform":"webkitTransform"}return m}(window)}-origin`]=t}},this.getFocusAdapterMethods_(),this.getDimensionAdapterMethods_()))}getFocusAdapterMethods_(){return{isFocused:()=>document.activeElement===this.root_,saveFocus:()=>{this.previousFocus_=document.activeElement},restoreFocus:()=>{this.root_.contains(document.activeElement)&&this.previousFocus_&&this.previousFocus_.focus&&this.previousFocus_.focus()},isFirstElementFocused:()=>this.firstFocusableElement_&&this.firstFocusableElement_===document.activeElement,isLastElementFocused:()=>this.lastFocusableElement_&&this.lastFocusableElement_===document.activeElement,focusFirstElement:()=>this.firstFocusableElement_&&this.firstFocusableElement_.focus&&this.firstFocusableElement_.focus(),focusLastElement:()=>this.lastFocusableElement_&&this.lastFocusableElement_.focus&&this.lastFocusableElement_.focus()}}getDimensionAdapterMethods_(){return{getInnerDimensions:()=>({width:this.root_.offsetWidth,height:this.root_.offsetHeight}),getAnchorDimensions:()=>this.anchorElement&&this.anchorElement.getBoundingClientRect(),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:t=>{this.root_.style.left="left"in t?t.left:null,this.root_.style.right="right"in t?t.right:null,this.root_.style.top="top"in t?t.top:null,this.root_.style.bottom="bottom"in t?t.bottom:null},setMaxHeight:t=>{this.root_.style.maxHeight=t}}}}class p extends e{constructor(...t){super(...t)}static attachTo(t){return new p(t)}initialize(t=(t=>new E(t)),e=(t=>new i(t))){this.menuSurface_=t(this.root_);const s=this.root_.querySelector(o.LIST_SELECTOR);s&&(this.list_=e(s),this.list_.wrapFocus=!0)}initialSyncWithDOM(){this.afterOpenedCallback_=(()=>this.handleAfterOpened_()),this.handleKeydown_=(t=>this.foundation_.handleKeydown(t)),this.handleClick_=(t=>this.foundation_.handleClick(t)),this.menuSurface_.listen(c.strings.OPENED_EVENT,this.afterOpenedCallback_),this.listen("keydown",this.handleKeydown_),this.listen("click",this.handleClick_)}destroy(){this.list_&&this.list_.destroy(),this.menuSurface_.destroy(),this.menuSurface_.unlisten(c.strings.OPENED_EVENT,this.afterOpenedCallback_),this.unlisten("keydown",this.handleKeydown_),this.unlisten("click",this.handleClick_),super.destroy()}get open(){return this.menuSurface_.open}set open(t){this.menuSurface_.open=t}get wrapFocus(){return this.list_.wrapFocus}set wrapFocus(t){this.list_.wrapFocus=t}setAnchorCorner(t){this.menuSurface_.setAnchorCorner(t)}setAnchorMargin(t){this.menuSurface_.setAnchorMargin(t)}get items(){return this.list_.listElements}getOptionByIndex(t){return t<this.items.length?this.items[t]:null}set quickOpen(t){this.menuSurface_.quickOpen=t}setFixedPosition(t){this.menuSurface_.setFixedPosition(t)}hoistMenuToBody(){this.menuSurface_.hoistMenuToBody()}setIsHoisted(t){this.menuSurface_.setIsHoisted(t)}setAbsolutePosition(t,e){this.menuSurface_.setAbsolutePosition(t,e)}setAnchorElement(t){this.menuSurface_.anchorElement=t}handleAfterOpened_(){const t=this.items;t.length>0&&t[0].focus()}getDefaultFoundation(){return new u({addClassToElementAtIndex:(t,e)=>{this.items[t].classList.add(e)},removeClassFromElementAtIndex:(t,e)=>{this.items[t].classList.remove(e)},addAttributeToElementAtIndex:(t,e,s)=>{this.items[t].setAttribute(e,s)},removeAttributeFromElementAtIndex:(t,e)=>{this.items[t].removeAttribute(e)},elementContainsClass:(t,e)=>t.classList.contains(e),closeSurface:()=>this.open=!1,getElementIndex:t=>this.items.indexOf(t),getParentElement:t=>t.parentElement,getSelectedElementIndex:t=>this.items.indexOf(t.querySelector(`.${n.MENU_SELECTED_LIST_ITEM}`)),notifySelected:t=>this.emit(o.SELECTED_EVENT,{index:t.index,item:this.items[t.index]})})}}export{p as a,d as b,a as c,o as d};